# 開發待辦事項 (TODO)

此清單規劃了「Hello UFO」MVP版本的開發階段與任務。

## 階段一：基礎建設

-   [x] 建立 `README.md`
-   [x] 建立 `FRAMEWORK.md`
-   [x] 建立 `TODO.md`
-   [x] 建立 `FLOW.md`
-   [x] 建立 `.gitignore`
-   [ ] 初始化專案目錄結構

## 階段二：網頁端 (遊戲主畫面) 開發

-   [ ] **HTML (`web/index.html`)**
    -   [ ] 建立基本HTML結構
    -   [ ] 設置遊戲標題
    -   [ ] 建立遊戲主容器
    -   [ ] 建立左、右兩隊的區域
    -   [ ] 放置代表外星人的元素 (例如 `div`)
    -   [ ] 建立分數顯示區
    -   [ ] 建立「新遊戲」、「開始遊戲」按鈕
    -   [ ] 建立「QR Code」讓手機掃描加入遊戲
    -   [ ] 建立遊戲結束的結果畫面
-   [ ] **CSS (`web/css/style.css`)**
    -   [ ] 實現 RWD，設定 `html`, `body` 寬高為 100%
    -   [ ] 設計隊伍區域的樣式 (綠隊、白隊)
    -   [ ] 設計外星人基本樣式
    -   [ ] 設計按鈕與分數板樣式
-   [ ] **JavaScript (`web/js/game.js`)**
    -   [ ] 引入 `mqtt.js` 函式庫
    -   [ ] 實作 MQTT 連線至 `broker.emqx.io`
    -   [ ] 訂閱 `cKxVnZuPyW/all` TOPIC
    -   [ ] 實作玩家加入邏輯，並將玩家隨機分配至隊伍
    -   [ ] 實作「開始遊戲」邏輯
    -   [ ] 創建外星人上下移動的動畫循環 (rhythm loop)
    -   [ ] 監聽從手機端來的 MQTT 訊息

## 階段三：手機端 (控制器) 開發

-   [ ] **HTML (`mobile/index.html`)**
    -   [ ] 建立基本HTML結構
    -   [ ] 放置「加入遊戲」按鈕
    -   [ ] 顯示遊戲進行中的提示訊息
-   [ ] **JavaScript (`mobile/js/mobile.js`)**
    -   [ ] 引入 `mqtt.js` 函式庫
    -   [ ] 實作 MQTT 連線
    -   [ ] 「加入遊戲」按鈕點擊後，發送 "join" 訊息至 MQTT TOPIC
    -   [ ] 請求裝置運動感應器權限 (`DeviceMotionEvent`)
    -   [ ] 監聽裝置的加速度計數據
    -   [ ] 實作偵測「上下擺動」的演算法
    -   [ ] 當偵測到動作時，透過 MQTT 發送 "move" 訊息

## 階段四：核心遊戲邏輯整合

-   [ ] **計分邏輯 (`web/js/game.js`)**
    -   [ ] 接收到手機 "move" 訊息時，比對當下時間與外星人節奏時間的差距
    -   [ ] 根據時間差計算分數
    -   [ ] 更新畫面上隊伍的分數
-   [ ] **勝負判斷 (`web/js/game.js`)**
    -   [ ] 持續檢查是否有隊伍達到勝利分數
    -   [ ] 當有隊伍獲勝時，停止遊戲
    -   [ ] 透過 MQTT 發送 "gameOver" 訊息
    -   [ ] 顯示勝利隊伍畫面
-   [ ] **音效整合**
    -   [ ] 加入背景音樂
    -   [ ] 加入成功同步節奏的音效
    -   [ ] 加入遊戲勝利/失敗的音效 